<html>
<head>
<title>Weather</title>
    <meta charset="utf-8">
    <script src="http://code.jquery.com/jquery-1.7.min.js" ></script>
</head>
<script>
    //JSON으로 데이터를 받아오는 방법
    /*
    $.getJSON('파일경로', function(데이터){
        //데이터로 할 일...
    });
    */ //현재시간으로 실시간 날씨 정보 받아오기
    $.getJSON('http://api.openweathermap.org/data/2.5/weather?id=1835848&appid=a71cf8f55278a20a0840a3e6fcba9384&units=metric', function(data){
        //데이터로 할 일...
        //alert(data.city.name);  // 도시 이름 팝업에 띄움
        //alert(data.list[0].main.temp_min);  // 이 시간대의 최저온도
        var $minTemp = data.main.temp_min;  // 변수 정의 (minTemp에 최저온도 저장)
        var $maxTemp = data.main.temp_max;  // 변수 정의 (maxTemp에 최고온도 저장)
        var $cTemp = data.main.temp;  // 변수 정의 (cTemp에 현재온도 저장)
        var $now = new Date($.now());
        var $cDate = $now.getFullYear() + '/' + ($now.getMonth() + 1 ) + '/' + $now.getDate() + '/'+ $now.getHours() + ':' + $now.getMinutes();  // 변수 정의 (date에 날짜 저장)
        var $wIcon = data.weather[0].icon;  // 변수 정의 (wIcon에 아이콘 저장)
        // Date.now(); == $.now(); // 현재 시간을 출력 // unix 운영체제의 시간 
        // new Date(Date.now())
        // alert(new Date(Date.now()));  // 현재 시간 날짜 자세히 출력      
        // 시간까지만 나오도록 추리기
        // .getFullYear() : 년도 출력
        // .getMonth() : 월 출력 // 0 : 1월
        // .getDate() : 일 출력
        // .getHours() : 시간 출력 , .getMinutes() : 분 출력
        // var $now = new Date($.now());
        // alert($now.getFullYear() + '/' + ($now.getMonth() + 1 ) + '/' + $now.getDate() + '/'+ $now.getHours() + ':' + $now.getMinutes()); // 년월일/시간:분 만 출력




        // jquery에서 특정 요소의 내용의 뒤에 새 내용 추가하는것:
        // A.append(B) -> A요소 내용 뒤에 B를 추가
        // A.appendTo(B) -> B요소 내용 뒤에 A를 추가
        // A.prependTo(B) -> B요소 내용 앞에 A를 추가
        // A.prepend(B) -> A요소 내용 앞에 B를 추가
        $('.clowtemp').append($minTemp);  // 최저온도 출력
        $('.chightemp').append($maxTemp);  // 최고온도 출력
        $('.ctemp').append($cTemp);  // 현재온도 출력
        $('h2').prepend($cDate);  // 날짜 출력
        $('.cicon').append('<img src = "https://openweathermap.org/img/w/' + $wIcon + '.png" />');
        //문자 작은따옴표로 묶어서 문자열과 변수 합치기
    });

    $.getJSON('http://api.openweathermap.org/data/2.5/weather?id=1835848&appid=a71cf8f55278a20a0840a3e6fcba9384&units=metric', function(data){

    });
    
</script>
<body>
<h1>weather api</h1>
<h2> - 날씨 정보</h2>
<div class="ctemp">현재 온도: </div>
<div class="clowtemp">최저 온도: </div>
<div class="chightemp">최고 온도: </div>
<div class="cicon">아이콘 : </div>
<!-- HTML -->
</body>
</html>